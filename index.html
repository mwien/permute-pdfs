<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>PDF Permutations</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js" defer></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>PDF Permutations</h1>
      </header>
      <main>
        <div class="content-container">
          <p>
            <b> Easily generate a number of randomly permuted PDF documents! For a quick start: </b>
            <ol>
              <li>Upload your files.</li>
              <li>Specify the number of permutations.</li>
              <li>Press "Generate Permutations".</li>
            </ol>
          </p>
        </div>

        <div class="content-container">
        <div class="formRow">
          <label for "pdfInput"> Upload PDF </label>
          <input type="file" id="pdfInput" name="pdfInput">
        </div>

        <div id="fileList">
          <span> Files: </span>
        </div>

        <div class="formRow">
          <label for "num_permutations"> Number of Permutations: </label>
          <input type="number" id="num_permutations" name="num_permutations" min="1">
        </div>

        <div class="formRow">

          <div>
            <label for "includeTitle"> Title Page </label>
            <input type="checkbox" id="includeTitle" name="includeTitle">
          </div>
          <div>
            <label for "includeStamp"> Stamp </label>
            <input type="checkbox" id="includeStamp" name="includeStamp">
          </div>
          <div>
            <label for "collapse"> Collapse to PDF </label>
            <input type="checkbox" id="collapse" name="collapse">
          </div>
          <div>
            <label for "makeEven"> Even pages </label>
            <input type="checkbox" id="makeEven" name="makeEven">
          </div>
        </div>

          <!-- limit accepted file types -->
        <div class="formRow" id="titleForm" style="display:none">
          <label for "titleInput"> Upload Title Page </label>
          <input type="file" id="titleInput">
        </div>

        <div class="formRow" id="stampForm" style="display:none">
          <label for "stampOffset"> Stamp Offset </label>
          <input type="number" id="stampOffset" name="stampOffset" min="0">
          <label for "stampText"> Stamp Text </label>
          <input type="text" id="stampText" name="stampText">
        </div>

        <div class="formRow">
          <button id="clear"> Clear Files </button>
          <button id="generate-button" disabled> Generate Permutations </button>
        </div>
        </div>

        <div class="content-container">
        <h2>Frequently Asked Questions</h2>

        <div class="faq-item">
            <div class="faq-question">How does this work?</div>
              <div class="faq-answer">
                <p> You can upload some PDFs and generate a specified number of permutations of those PDFs. So if you upload four PDF files and request six permutations, this will generate a zip file with six PDFs files, each consisting of the four PDFs in random order, and a text file which lists the permutations. </p>
                <p>Further, you can add a title page, which will prepend every permutation, add a stamp on the first page and also collapse everything into a single PDF file (in this case consider setting the option of making the number of pages per permutation even if you want to print two-sided). </p>
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">What are some potential use cases of this website?</div>
              <div class="faq-answer">
                <p> You could create random orders for questionaires in studies or for tasks in an exam. Maybe you come up with other use cases that I can add to this list. </p>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">What about the privacy of my documents?</div>
              <div class="faq-answer">
                <p> Everything you enter on this page is completely private and does not even leave your device. </p>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">I need a slightly different feature than what is offered here. Can this be added? </div>
              <div class="faq-answer">
              <p> Yes, please open an issue <a href="https://github.com/mwien/permute-pdfs/issues">here</a>. The same holds if you encounter any other problems. </p>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question"> How are the random permutations generated? </div>
              <div class="faq-answer">
                <p> This is done in JavaScript using pseudo-random generators, more precisely the shuffle function provided by lodash (link). It should be sufficiently random for most applications and behave similarly to randomly sampled permutations in other languages such as R, Python etc.</p>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question"> Is it possible to seed the random generator in order to reproduce permutations? </div>
              <div class="faq-answer">
                <p> No, this is unfortunately not possible at the moment, but may be added later if requested. </p>
            </div>
        </div>
      </div>
      </main>
      <footer>
        &#x1F582; marcel.wienoebst@gmx.de <br>
        &copy; 2024 Marcel Wien√∂bst. All rights reserved.
      </footer>
    </div>
  </body>
</html>
